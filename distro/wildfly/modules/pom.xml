<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>org.cibseven.bpm.wildfly</groupId>
    <artifactId>cibseven-wildfly</artifactId>
    <version>2.2.0-SNAPSHOT</version>
  </parent>

  <artifactId>cibseven-wildfly-modules</artifactId>
  <packaging>jar</packaging>
  <name>CIB seven - Wildfly Modules</name>

  <properties>
    <org.jboss.shrinkwrap.resolver.version>1.0.0-beta-5</org.jboss.shrinkwrap.resolver.version>
    <!-- generate a bom of compile time dependencies for the license book.
    Note: Every compile time dependency will end up in the license book. Please
    declare only dependencies that are actually needed -->
    <skip-third-party-bom>false</skip-third-party-bom>
    <!-- json-smart and accessors-smart are runtime dependencies of json-path -->
    <third-party-bom-scopes>compile|runtime</third-party-bom-scopes>
    
    <!-- versions to fix CVE-2025-66566-->
    <version.lz4-java>1.10.1</version.lz4-java>
    <version.kafka-clients>3.9.1</version.kafka-clients>
    <version.netty>4.1.130.Final</version.netty>
    <version.undertow>2.3.22.Final</version.undertow>
  </properties>
  
  <dependencies>
    <dependency>
      <groupId>org.cibseven.bpm.wildfly</groupId>
      <artifactId>cibseven-wildfly-subsystem</artifactId>
      <version>${project.version}</version>
      <exclusions>
        <exclusion>
          <groupId>org.apache.commons</groupId>
          <artifactId>commons-email</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.springframework</groupId>
          <artifactId>spring-beans</artifactId>
        </exclusion>
        <exclusion>
          <groupId>commons-lang</groupId>
          <artifactId>commons-lang</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <dependency>
      <groupId>org.cibseven.bpm.identity</groupId>
      <artifactId>cibseven-identity-ldap</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.bpm</groupId>
      <artifactId>cibseven-engine-plugin-spin</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.spin</groupId>
      <artifactId>cibseven-spin-dataformat-json-jackson</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.spin</groupId>
      <artifactId>cibseven-spin-dataformat-xml-dom-jakarta</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.bpm</groupId>
      <artifactId>cibseven-engine-plugin-connect</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.connect</groupId>
      <artifactId>cibseven-connect-http-client</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.connect</groupId>
      <artifactId>cibseven-connect-soap-http-client</artifactId>
    </dependency>

    <!-- script engine dependencies -->
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-jsr223</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-json</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-xml</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-templates</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-dateutil</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.groovy</groupId>
      <artifactId>groovy-datetime</artifactId>
    </dependency>

    <dependency>
      <groupId>org.graalvm.js</groupId>
      <artifactId>js</artifactId>
    </dependency>
    <dependency>
      <groupId>org.graalvm.js</groupId>
      <artifactId>js-scriptengine</artifactId>
    </dependency>

    <!-- template engine dependencies -->
    <dependency>
      <groupId>org.freemarker</groupId>
      <artifactId>freemarker</artifactId>
    </dependency>

    <dependency>
      <groupId>org.cibseven.template-engines</groupId>
      <artifactId>cibseven-template-engines-freemarker</artifactId>
    </dependency>

    <dependency>
      <groupId>com.h2database</groupId>
      <artifactId>h2</artifactId>
    </dependency>
    
    <!-- Kafka client -->
    <dependency>
      <groupId>org.apache.kafka</groupId>
      <artifactId>kafka-clients</artifactId>
      <version>${version.kafka-clients}</version>
    </dependency>

    <!-- LZ4 (at.yawk) -->
    <dependency>
      <groupId>at.yawk.lz4</groupId>
      <artifactId>lz4-java</artifactId>
      <version>${version.lz4-java}</version>
    </dependency>

    <!-- Undertow -->
    <dependency>
      <groupId>io.undertow</groupId>
      <artifactId>undertow-core</artifactId>
      <version>${version.undertow}</version>
      <exclusions>
        <exclusion>
          <groupId>io.smallrye</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>io.undertow</groupId>
      <artifactId>undertow-servlet</artifactId>
      <version>${version.undertow}</version>
      <exclusions>
        <exclusion>
          <groupId>jakarta.websocket</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>io.undertow</groupId>
      <artifactId>undertow-websockets-jsr</artifactId>
      <version>${version.undertow}</version>
      <exclusions>
        <exclusion>
          <groupId>jakarta.websocket</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <!-- Netty deps (exclusions to adapt it to wildfly modules)-->
    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty-all</artifactId>
      <version>${version.netty}</version>
      <exclusions>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-haproxy</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-memcache</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-mqtt</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-redis</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-smtp</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-stomp</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-codec-xml</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-handler-ssl-ocsp</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-resolver-dns-classes-macos</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-resolver-dns-native-macos</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-transport-rxtx</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-transport-sctp</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-transport-udt</artifactId>
        </exclusion>
        <exclusion>
          <groupId>io.netty</groupId>
          <artifactId>netty-transport-native-unix-common</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty-transport-native-unix-common</artifactId>
      <version>${version.netty}</version>
      <classifier>linux-x86_64</classifier>
    </dependency>
    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty-transport-native-unix-common</artifactId>
      <version>${version.netty}</version>
      <classifier>linux-aarch_64</classifier>
    </dependency>
    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty-transport-native-unix-common</artifactId>
      <version>${version.netty}</version>
      <classifier>osx-x86_64</classifier>
    </dependency>
    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty-transport-native-unix-common</artifactId>
      <version>${version.netty}</version>
      <classifier>osx-aarch_64</classifier>
    </dependency>
  </dependencies>

  <build>
    <finalName>${project.artifactId}</finalName>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-antrun-plugin</artifactId>
        <executions>
          <execution>
            <id>copy-dependencies</id>
            <phase>prepare-package</phase>
            <goals>
              <goal>run</goal>
            </goals>
            <configuration>
              <target>
                <dependencyfilesets scopes="compile,runtime" />

                <mkdir dir="target/modules" />

                <!-- copy all files -->
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                </copy>

                <delete dir="target/modules/org/cibseven/bpm" />

                <!-- copy all files again, but this only matches fox files and this treatment makes is maven 2/3 compatible => timestamped snapshot -->
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper from="^(org.cibseven.bpm.*)/((cibseven-[A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <delete dir="target/modules/org/cibseven/spin" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper from="^(org.cibseven.spin.*)/((cibseven-[A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <delete dir="target/modules/org/cibseven/connect" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper from="^(org.cibseven.connect.*)/((cibseven-[A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <!-- do not include connectors-all dependency, because
                  we are using the individual connect modules on Wildfly -->
                <delete dir="target/modules/org/cibseven/connect/cibseven-connect-connectors-all" />

                <delete dir="target/modules/org/cibseven/commons" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <mapper>
                        <regexpmapper from="^(org.cibseven.commons.*)\/((cibseven-commons-(utils|logging)-[A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                        <regexpmapper from="^(org.cibseven.commons.*)\/((cibseven-commons-typed-values-)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                      </mapper>
                    </chainedmapper>
                  </mapper>
                </copy>

                <delete dir="target/modules/org/cibseven/template-engines" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper from="^(org.cibseven.template-engines.*)/((cibseven-[A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${project.version}.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <delete dir="target/modules/org/camunda/feel" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper from="^(org.camunda.feel.feel-engine.*)/(([A-Za-z-]*)[0-9\.]*).*.jar$$" to="\1/\3${version.feel-scala}-scala-shaded.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <!-- copy jackson dependencies to slot -->
                <delete dir="target/modules/com/fasterxml/jackson" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/${version.jackson}/\3" handledirsep="yes" />
                      <regexpmapper from="^(com.fasterxml.jackson.*)\/((jackson.*-)[0-9\.]*).*.jar$$" to="\1/\3${version.jackson}.jar" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <!-- httpcore5-h2 along with httpcore5 -->
                <copy todir="target/modules" flatten="false">
                  <fileset dir="target/modules">
                    <include name="org/apache/httpcomponents/core5/httpcore5-h2/main/*.jar"/>
                  </fileset>
                  <chainedmapper>
                    <regexpmapper 
                      from="^org/apache/httpcomponents/core5/httpcore5-h2/main/(.*)$$" 
                      to="org/apache/httpcomponents/core5/httpcore5/main/\1" 
                      handledirsep="yes" />
                  </chainedmapper>
                </copy>
                <delete dir="target/modules/org/apache/httpcomponents/core5/httpcore5-h2" />

                <!-- copy Kafka dependencies to module slot -->
                <delete dir="target/modules/org/apache/kafka/kafka-clients" />
                <copy todir="target/modules" flatten="false">
                    <fileset refid="maven.project.dependencies" />
                    <mapper>
                        <chainedmapper>
                            <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                            <regexpmapper 
                                from="^(org.apache.kafka.*)/((kafka-clients-)[0-9\.]*).*.jar$$" 
                                to="org/apache/kafka/client/main/\3${version.kafka-clients}.jar" 
                                handledirsep="yes" />
                        </chainedmapper>
                    </mapper>
                </copy>

                <!-- remove org.lz4 dependency in favor of at.yawk.lz4 -->
                <delete dir="target/modules/org/lz4" />

                <!-- copy Undertow dependencies to custom modules -->
                <delete dir="target/modules/io/undertow" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                     <regexpmapper 
                        from="^(io.undertow.*)/((undertow-core-)[0-9\.]*).*.jar$$" 
                        to="io/undertow/core/main/\3${version.undertow}.jar" 
                        handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper 
                        from="^(io.undertow.*)/((undertow-servlet-)[0-9\.]*).*.jar$$" 
                        to="io/undertow/servlet/main/\3${version.undertow}.jar" 
                        handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]*)$$" to="\1/main/\3" handledirsep="yes" />
                      <regexpmapper 
                        from="^(io.undertow.*)/((undertow-websockets-jsr-)[0-9\.]*).*.jar$$" 
                        to="io/undertow/websocket/main/\3${version.undertow}.jar" 
                        handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <!-- move netty-transport-classes-epoll to netty-transport-native-epoll -->
                <copy todir="target/modules" flatten="false">
                  <fileset dir="target/modules">
                    <include name="io/netty/netty-transport-classes-epoll/main/*.jar"/>
                  </fileset>
                  <chainedmapper>
                    <regexpmapper 
                      from="^io/netty/netty-transport-classes-epoll/main/(.*)$$" 
                      to="io/netty/netty-transport-native-epoll/main/\1" 
                      handledirsep="yes" />
                  </chainedmapper>
                </copy>
                <delete dir="target/modules/io/netty/netty-transport-classes-epoll" />
                <!-- unpack native .so files from netty-transport-native-epoll jars -->
                <unzip dest="target/modules/io/netty/netty-transport-native-epoll/main/lib">
                  <fileset dir="target/modules/io/netty/netty-transport-native-epoll/main">
                    <include name="netty-transport-native-epoll-${version.netty}-linux-aarch_64.jar"/>
                    <include name="netty-transport-native-epoll-${version.netty}-linux-x86_64.jar"/>
                  </fileset>
                  <patternset>
                    <include name="META-INF/native/**/*.so"/>
                  </patternset>
                </unzip>
                <!-- remove all jars except netty-transport-classes-epoll -->
                <delete>
                  <fileset dir="target/modules/io/netty/netty-transport-native-epoll/main">
                    <include name="*.jar"/>
                    <exclude name="netty-transport-classes-epoll-${version.netty}.jar"/>
                  </fileset>
                </delete>

                <!-- move netty-transport-classes-kqueue to netty-transport-native-kqueue -->
                <copy todir="target/modules" flatten="false">
                  <fileset dir="target/modules">
                    <include name="io/netty/netty-transport-classes-kqueue/main/*.jar"/>
                  </fileset>
                  <chainedmapper>
                    <regexpmapper 
                      from="^io/netty/netty-transport-classes-kqueue/main/(.*)$$" 
                      to="io/netty/netty-transport-native-kqueue/main/\1" 
                      handledirsep="yes" />
                  </chainedmapper>
                </copy>
                <delete dir="target/modules/io/netty/netty-transport-classes-kqueue" />
                <!-- unpack native .so files from netty-transport-native-kqueue jars -->
                <unzip dest="target/modules/io/netty/netty-transport-native-kqueue/main/lib">
                  <fileset dir="target/modules/io/netty/netty-transport-native-kqueue/main">
                    <include name="netty-transport-native-kqueue-${version.netty}-osx-aarch_64.jar"/>
                    <include name="netty-transport-native-kqueue-${version.netty}-osx-x86_64.jar"/>
                  </fileset>
                  <patternset>
                    <include name="META-INF/native/**/*.jnilib"/>
                  </patternset>
                </unzip>
                <!-- remove all jars except netty-transport-classes-epoll -->
                <delete>
                  <fileset dir="target/modules/io/netty/netty-transport-native-kqueue/main">
                    <include name="*.jar"/>
                    <exclude name="netty-transport-classes-kqueue-${version.netty}.jar"/>
                  </fileset>
                </delete>

                <!-- move netty-transport-native-unix-common specific artifacts to netty-transport-native-unix-common -->
                <copy todir="target/modules/io/netty/netty-transport-native-unix-common/main" flatten="true">
                  <fileset dir="target/modules/io/netty">
                    <include name="netty-transport-native-unix-common-*/main/*.jar"/>
                  </fileset>
                </copy>
                <!-- delete the classifier-specific parent directories but keep the main one -->
                <delete includeemptydirs="true">
                  <fileset dir="target/modules/io/netty" includes="netty-transport-native-unix-common-*/**"/>
                </delete>

                <delete dir="target/modules/io/netty/netty-all" />

                <!-- copy groovy dependencies to single dir -->
                <delete dir="target/modules/org/apache/groovy" />
                <copy todir="target/modules" flatten="false">
                  <fileset refid="maven.project.dependencies" />
                  <mapper>
                    <chainedmapper>
                      <regexpmapper from="^(.*)/([^/]+)/([^/]+)/([^/]*)$$" to="\1/groovy-all/main/\4" handledirsep="yes" />
                      <regexpmapper from="^(org.apache.groovy.*/.*.jar)$$" to="\1" handledirsep="yes" />
                    </chainedmapper>
                  </mapper>
                </copy>

                <copy todir="target/modules" flatten="false">
                  <fileset dir="src/main/modules" />
                </copy>

                <replace dir="target/modules" token="@project.version@" value="${project.version}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@project.version@" value="${project.version}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@project.version@" value="${project.version}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@project.version@" value="${project.version}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@project.version@" value="${project.version}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.freemarker@" value="${version.freemarker}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.groovy@" value="${version.groovy}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.httpclient5@" value="${version.httpclient5}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.httpcore5@" value="${version.httpcore5}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.jackson@" value="${version.jackson}">
                  <include name="**/module.xml" />
                </replace>
                
                <replace dir="target/modules" token="@version.lz4-java@" value="${version.lz4-java}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.kafka-clients@" value="${version.kafka-clients}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.undertow@" value="${version.undertow}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.netty@" value="${version.netty}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.json-path@" value="${version.json-path}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.json-smart@" value="${version.json-smart}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.accessors-smart@" value="${version.accessors-smart}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.h2@" value="${version.h2}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.mybatis@" value="${version.mybatis}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.feel-scala@" value="${version.feel-scala}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.graal.js@" value="${version.graal.js}">
                  <include name="**/module.xml" />
                </replace>

                <replace dir="target/modules" token="@version.icu.icu4j@" value="${version.icu.icu4j}">
                  <include name="**/module.xml" />
                </replace>

              </target>
            </configuration>
          </execution>
        </executions>
      </plugin>
       <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-dependency-plugin</artifactId>
        <executions>
          <execution>
            <id>copy</id>
            <phase>prepare-package</phase>
            <goals>
              <goal>copy</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                  <groupId>joda-time</groupId>
                  <artifactId>joda-time</artifactId>
                  <outputDirectory>${project.build.directory}/modules/org/joda/time/2.1/</outputDirectory>
                </artifactItem>
              </artifactItems>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jar-plugin</artifactId>
        <configuration>
          <classesDirectory>${project.build.directory}/modules/</classesDirectory>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <description>
    Description of CIB seven - Wildfly Modules
  </description>

  <licenses>
    <license>
      <name>The Apache Software License, Version 2.0</name>
      <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
    </license>
  </licenses>

  <organization>
    <name>CIB seven</name>
    <url>https://cibseven.org</url>
  </organization>

  <url>https://cibseven.org</url>

  <developers>
    <developer>
      <id>CIB seven</id>
      <name>CIB seven Community</name>
      <organization>CIB seven</organization>
      <organizationUrl>https://cibseven.org</organizationUrl>
    </developer>
  </developers>

  <scm>
    <url>https://github.com/cibseven/cibseven</url>
    <connection>scm:git:git@github.com:cibseven/cibseven.git</connection>
    <developerConnection>scm:git:git@github.com:cibseven/cibseven.git</developerConnection>
    <tag>HEAD</tag>
  </scm>

  <issueManagement>
    <system>GitHub Issues</system>
    <url>https://github.com/cibseven/cibseven/issues</url>
  </issueManagement>

</project>
